<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrainerJs - React App</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* Global App Styles */
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Landing Page Styles */
        .landing-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .landing-header {
            text-align: center;
            padding: 60px 20px 40px;
        }

        .landing-header h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .landing-header p {
            font-size: 1.3rem;
            opacity: 0.9;
        }

        .auth-section {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .auth-card {
            background: white;
            color: #333;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 450px;
            width: 100%;
        }

        /* Auth Tabs */
        .auth-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 2px solid #f0f0f0;
        }

        .tab-btn {
            flex: 1;
            padding: 15px;
            background: none;
            border: none;
            color: #999;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .tab-btn.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab-btn:hover {
            color: #667eea;
        }

        /* Auth Forms */
        .auth-form {
            display: block;
        }

        .auth-form h2 {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
            font-size: 2rem;
        }

        .form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-weight: 600;
            color: #555;
        }

        .form-group input {
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .auth-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .auth-btn:hover:not(:disabled) {
            transform: translateY(-2px);
        }

        .auth-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .demo-credentials {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            text-align: center;
        }

        .demo-credentials p {
            margin: 5px 0;
            color: #666;
        }

        .landing-footer {
            text-align: center;
            padding: 20px;
            opacity: 0.8;
        }

        /* Success/Error Messages */
        .message {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }

        .message.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .message.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* Timer Page Styles */
        .timer-page {
            min-height: 100vh;
            background-color: #f9f9f9;
        }

        .app-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .app-header h1 {
            margin: 0;
            font-size: 2rem;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logout-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .logout-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .app-main {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .container {
            text-align: center;
            background: white;
            padding: 2em;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            max-width: 600px;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
        }

        .container h2, .container h3 {
            color: #333;
            margin-bottom: 20px;
        }

        .timer-display {
            font-size: 3em;
            margin: 20px 0;
            font-weight: bold;
            color: #667eea;
            font-family: 'Courier New', monospace;
        }

        .result-display {
            font-size: 1.5em;
            margin: 20px 0;
            color: #666;
            min-height: 1.5em;
        }

        .timer-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .timer-controls button {
            padding: 12px 24px;
            font-size: 1.1em;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 100px;
        }

        .timer-controls button:hover:not(:disabled) {
            background: #5a6fd8;
            transform: translateY(-2px);
        }

        .timer-controls button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .button-generator {
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .button-generator input {
            padding: 10px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            width: 200px;
            max-width: 100%;
        }

        .button-generator input:focus {
            outline: none;
            border-color: #667eea;
        }

        .button-generator button {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .button-generator button:hover {
            background: #5a6fd8;
        }

        .color-buttons {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .color-btn {
            margin: 5px;
            padding: 15px 25px;
            font-size: 1.2rem;
            border-radius: 8px;
            background: #667eea;
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 60px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .color-btn:hover {
            transform: scale(1.05);
        }

        .color-btn.red {
            background-color: #e74c3c;
            transform: scale(1.1);
        }

        .color-btn.red:hover {
            background-color: #c0392b;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .landing-header h1 {
                font-size: 2.5rem;
            }
            
            .auth-card {
                margin: 20px;
                padding: 30px;
            }
            
            .auth-tabs {
                flex-direction: column;
            }
            
            .tab-btn {
                border-bottom: none;
                border-right: 3px solid transparent;
            }
            
            .tab-btn.active {
                border-right-color: #667eea;
                border-bottom-color: transparent;
            }

            .app-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .user-info {
                flex-direction: column;
                gap: 10px;
            }
            
            .timer-display {
                font-size: 2.5em;
            }
            
            .result-display {
                font-size: 1.2em;
            }
            
            .timer-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .timer-controls button {
                width: 100%;
                max-width: 200px;
            }
            
            .button-generator {
                flex-direction: column;
                align-items: center;
            }
            
            .button-generator input {
                width: 100%;
                max-width: 300px;
            }
            
            .color-btn {
                padding: 12px 20px;
                font-size: 1rem;
                min-width: 50px;
                min-height: 50px;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback, createContext, useContext } = React;

        // Auth Context
        const AuthContext = createContext();

        const useAuth = () => {
            const context = useContext(AuthContext);
            if (!context) {
                throw new Error('useAuth must be used within an AuthProvider');
            }
            return context;
        };

        const AuthProvider = ({ children }) => {
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [currentUser, setCurrentUser] = useState(null);

            useEffect(() => {
                const savedUser = localStorage.getItem('trainerjs_user');
                if (savedUser) {
                    const user = JSON.parse(savedUser);
                    setCurrentUser(user);
                    setIsAuthenticated(true);
                }
            }, []);

            const authenticateUser = (username, password) => {
                if (username === 'demo' && password === 'demo123') {
                    return true;
                }
                const users = getUsers();
                const user = users.find(u => u.username === username);
                return user && user.password === password;
            };

            const getUsers = () => {
                try {
                    const users = localStorage.getItem('trainerjs_users');
                    return users ? JSON.parse(users) : [];
                } catch (error) {
                    console.error('Error getting users:', error);
                    return [];
                }
            };

            const userExists = (username) => {
                if (username === 'demo') return true;
                const users = getUsers();
                return users.some(u => u.username === username);
            };

            const createUser = (username, email, password) => {
                try {
                    const users = getUsers();
                    const newUser = { username, email, password, createdAt: new Date().toISOString() };
                    users.push(newUser);
                    localStorage.setItem('trainerjs_users', JSON.stringify(users));
                    return true;
                } catch (error) {
                    console.error('Error creating user:', error);
                    return false;
                }
            };

            const login = async (username, password) => {
                if (authenticateUser(username, password)) {
                    const user = { username, name: username };
                    setCurrentUser(user);
                    setIsAuthenticated(true);
                    localStorage.setItem('trainerjs_user', JSON.stringify(user));
                    return true;
                }
                return false;
            };

            const signup = async (username, email, password) => {
                if (createUser(username, email, password)) {
                    return true;
                }
                return false;
            };

            const logout = () => {
                setIsAuthenticated(false);
                setCurrentUser(null);
                localStorage.removeItem('trainerjs_user');
            };

            return (
                <AuthContext.Provider value={{
                    isAuthenticated,
                    currentUser,
                    login,
                    signup,
                    logout,
                    userExists
                }}>
                    {children}
                </AuthContext.Provider>
            );
        };

        // Landing Page Component
        const LandingPage = () => {
            const [activeTab, setActiveTab] = useState('login');
            const [message, setMessage] = useState(null);
            const [isLoading, setIsLoading] = useState(false);
            const { login, signup, userExists } = useAuth();
            const [loginForm, setLoginForm] = useState({ username: '', password: '' });
            const [signupForm, setSignupForm] = useState({ username: '', email: '', password: '', confirmPassword: '' });

            const clearMessage = () => setMessage(null);

            const handleLogin = async (e) => {
                e.preventDefault();
                setIsLoading(true);
                clearMessage();

                if (!loginForm.username || !loginForm.password) {
                    setMessage({ text: 'Please fill in all fields', type: 'error' });
                    setIsLoading(false);
                    return;
                }

                try {
                    const success = await login(loginForm.username, loginForm.password);
                    if (success) {
                        setMessage({ text: 'Login successful! Redirecting...', type: 'success' });
                        setTimeout(() => window.location.href = '#timer', 1000);
                    } else {
                        setMessage({ text: 'Invalid credentials. Please try again.', type: 'error' });
                    }
                } catch (error) {
                    setMessage({ text: 'An error occurred. Please try again.', type: 'error' });
                } finally {
                    setIsLoading(false);
                }
            };

            const handleSignup = async (e) => {
                e.preventDefault();
                setIsLoading(true);
                clearMessage();

                if (!signupForm.username || !signupForm.email || !signupForm.password || !signupForm.confirmPassword) {
                    setMessage({ text: 'Please fill in all fields', type: 'error' });
                    setIsLoading(false);
                    return;
                }

                if (signupForm.password !== signupForm.confirmPassword) {
                    setMessage({ text: 'Passwords do not match', type: 'error' });
                    setIsLoading(false);
                    return;
                }

                if (signupForm.password.length < 6) {
                    setMessage({ text: 'Password must be at least 6 characters long', type: 'error' });
                    setIsLoading(false);
                    return;
                }

                if (signupForm.username.length < 3) {
                    setMessage({ text: 'Username must be at least 3 characters long', type: 'error' });
                    setIsLoading(false);
                    return;
                }

                if (userExists(signupForm.username)) {
                    setMessage({ text: 'Username already exists. Please choose another one.', type: 'error' });
                    setIsLoading(false);
                    return;
                }

                try {
                    const success = await signup(signupForm.username, signupForm.email, signupForm.password);
                    if (success) {
                        setMessage({ text: 'Account created successfully! You can now sign in.', type: 'success' });
                        setSignupForm({ username: '', email: '', password: '', confirmPassword: '' });
                        setTimeout(() => setActiveTab('login'), 2000);
                    } else {
                        setMessage({ text: 'Error creating account. Please try again.', type: 'error' });
                    }
                } catch (error) {
                    setMessage({ text: 'An error occurred. Please try again.', type: 'error' });
                } finally {
                    setIsLoading(false);
                }
            };

            return (
                <div className="landing-container">
                    <header className="landing-header">
                        <h1>Welcome to TrainerJs</h1>
                        <p>Your personal training companion</p>
                    </header>
                    
                    <main className="auth-section">
                        <div className="auth-card">
                            <div className="auth-tabs">
                                <button 
                                    className={`tab-btn ${activeTab === 'login' ? 'active' : ''}`}
                                    onClick={() => {
                                        setActiveTab('login');
                                        clearMessage();
                                    }}
                                >
                                    Sign In
                                </button>
                                <button 
                                    className={`tab-btn ${activeTab === 'signup' ? 'active' : ''}`}
                                    onClick={() => {
                                        setActiveTab('signup');
                                        clearMessage();
                                    }}
                                >
                                    Sign Up
                                </button>
                            </div>
                            
                            {message && (
                                <div className={`message ${message.type}`}>
                                    {message.text}
                                </div>
                            )}
                            
                            {activeTab === 'login' && (
                                <div className="auth-form">
                                    <h2>Sign In</h2>
                                    <form onSubmit={handleLogin} className="form">
                                        <div className="form-group">
                                            <label htmlFor="loginUsername">Username</label>
                                            <input
                                                type="text"
                                                id="loginUsername"
                                                value={loginForm.username}
                                                onChange={(e) => setLoginForm({ ...loginForm, username: e.target.value })}
                                                placeholder="Enter your username"
                                                required
                                            />
                                        </div>
                                        <div className="form-group">
                                            <label htmlFor="loginPassword">Password</label>
                                            <input
                                                type="password"
                                                id="loginPassword"
                                                value={loginForm.password}
                                                onChange={(e) => setLoginForm({ ...loginForm, password: e.target.value })}
                                                placeholder="Enter your password"
                                                required
                                            />
                                        </div>
                                        <button type="submit" className="auth-btn" disabled={isLoading}>
                                            {isLoading ? 'Signing In...' : 'Sign In'}
                                        </button>
                                    </form>
                                </div>
                            )}
                            
                            {activeTab === 'signup' && (
                                <div className="auth-form">
                                    <h2>Create Account</h2>
                                    <form onSubmit={handleSignup} className="form">
                                        <div className="form-group">
                                            <label htmlFor="signupUsername">Username</label>
                                            <input
                                                type="text"
                                                id="signupUsername"
                                                value={signupForm.username}
                                                onChange={(e) => setSignupForm({ ...signupForm, username: e.target.value })}
                                                placeholder="Choose a username"
                                                required
                                            />
                                        </div>
                                        <div className="form-group">
                                            <label htmlFor="signupEmail">Email</label>
                                            <input
                                                type="email"
                                                id="signupEmail"
                                                value={signupForm.email}
                                                onChange={(e) => setSignupForm({ ...signupForm, email: e.target.value })}
                                                placeholder="Enter your email"
                                                required
                                            />
                                        </div>
                                        <div className="form-group">
                                            <label htmlFor="signupPassword">Password</label>
                                            <input
                                                type="password"
                                                id="signupPassword"
                                                value={signupForm.password}
                                                onChange={(e) => setSignupForm({ ...signupForm, password: e.target.value })}
                                                placeholder="Choose a password"
                                                required
                                            />
                                        </div>
                                        <div className="form-group">
                                            <label htmlFor="signupConfirmPassword">Confirm Password</label>
                                            <input
                                                type="password"
                                                id="signupConfirmPassword"
                                                value={signupForm.confirmPassword}
                                                onChange={(e) => setSignupForm({ ...signupForm, confirmPassword: e.target.value })}
                                                placeholder="Confirm your password"
                                                required
                                            />
                                        </div>
                                        <button type="submit" className="auth-btn" disabled={isLoading}>
                                            {isLoading ? 'Creating Account...' : 'Create Account'}
                                        </button>
                                    </form>
                                </div>
                            )}
                            
                            <div className="demo-credentials">
                                <p><strong>Demo Credentials:</strong></p>
                                <p>Username: demo</p>
                                <p>Password: demo123</p>
                            </div>
                        </div>
                    </main>
                    
                    <footer className="landing-footer">
                        <p>&copy; 2024 TrainerJs. All rights reserved.</p>
                    </footer>
                </div>
            );
        };

        // Timer Page Component
        const TimerPage = () => {
            const { currentUser, logout } = useAuth();
            const [startTime, setStartTime] = useState(0);
            const [timerDuration] = useState(10);
            const [intervalId, setIntervalId] = useState(null);
            const [endTimes, setEndTimes] = useState([]);
            const [display, setDisplay] = useState('00:00:00');
            const [resultDisplay, setResultDisplay] = useState('');
            const [buttonCount, setButtonCount] = useState(5);
            const [colorButtons, setColorButtons] = useState([]);

            useEffect(() => {
                setDisplay(formatTimeFromSeconds(timerDuration));
            }, [timerDuration]);

            useEffect(() => {
                const handleKeyDown = (e) => {
                    if (e.code === 'Space') {
                        e.preventDefault();
                        if (intervalId) {
                            stopTimer();
                        } else {
                            startTimer();
                        }
                    } else if (e.code === 'KeyR') {
                        resetTimer();
                    }
                };

                document.addEventListener('keydown', handleKeyDown);
                return () => document.removeEventListener('keydown', handleKeyDown);
            }, [intervalId]);

            const formatTimeFromSeconds = (totalSeconds) => {
                const hours = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');
                const minutes = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');
                const seconds = String(totalSeconds % 60).padStart(2, '0');
                return `${hours}:${minutes}:${seconds}`;
            };

            const playBeep = () => {
                console.log("Timer finished - beep!");
            };

            const startTimer = useCallback(() => {
                if (intervalId) return;
                
                const start = Date.now() - startTime;
                const newIntervalId = setInterval(() => {
                    const currentStartTime = Date.now() - start;
                    const totalSeconds = Math.floor(currentStartTime / 1000);
                    const timeLeft = timerDuration - totalSeconds;
                    
                    setDisplay(formatTimeFromSeconds(timeLeft));

                    if (timeLeft <= 0) {
                        setStartTime(0);
                        clearInterval(newIntervalId);
                        setIntervalId(null);
                        playBeep();
                        setDisplay("00:00:00");
                    }
                }, 100);
                
                setIntervalId(newIntervalId);
            }, [intervalId, startTime, timerDuration]);

            const stopTimer = useCallback(() => {
                if (intervalId) {
                    clearInterval(intervalId);
                    setIntervalId(null);
                    
                    const endTime = Date.now();
                    const newEndTime = new Date(endTime).toLocaleTimeString();
                    setEndTimes(prev => [...prev, newEndTime]);
                    setResultDisplay(`Stopped at: ${newEndTime}`);
                }
            }, [intervalId]);

            const resetTimer = useCallback(() => {
                if (intervalId) {
                    clearInterval(intervalId);
                    setIntervalId(null);
                }
                setStartTime(0);
                setEndTimes([]);
                setDisplay(formatTimeFromSeconds(timerDuration));
                setResultDisplay("");
            }, [intervalId, timerDuration]);

            const generateButtons = () => {
                if (buttonCount < 1) {
                    alert('Please enter a valid number greater than 0');
                    return;
                }
                
                const newButtons = [];
                for (let i = 1; i <= buttonCount; i++) {
                    newButtons.push({
                        id: i,
                        count: 5,
                        isRed: false
                    });
                }
                setColorButtons(newButtons);
            };

            const handleColorButtonClick = (buttonId) => {
                setColorButtons(prev => prev.map(btn => {
                    if (btn.id === buttonId) {
                        if (intervalId) {
                            clearInterval(intervalId);
                            setIntervalId(null);
                            setStartTime(0);
                        }

                        if (btn.count === 5 && !btn.isRed) {
                            return { ...btn, isRed: true };
                        } else {
                            const newCount = btn.count - 1;
                            if (newCount === 0) {
                                setDisplay("00:00:00");
                                return { ...btn, count: 5, isRed: false };
                            } else {
                                startTimer();
                                return { ...btn, count: newCount };
                            }
                        }
                    }
                    return btn;
                }));
            };

            const handleLogout = () => {
                logout();
                window.location.href = '#';
            };

            return (
                <div className="timer-page">
                    <header className="app-header">
                        <h1>TrainerJs Timer</h1>
                        <div className="user-info">
                            <span>Welcome, {currentUser?.name}!</span>
                            <button onClick={handleLogout} className="logout-btn">Logout</button>
                        </div>
                    </header>
                    
                    <main className="app-main">
                        <div className="container">
                            <h2>Timer</h2>
                            <div className="timer-display">{display}</div>
                            <div className="result-display">{resultDisplay}</div>
                            <div className="timer-controls">
                                <button onClick={startTimer} disabled={!!intervalId}>Start</button>
                                <button onClick={stopTimer} disabled={!intervalId}>Stop</button>
                                <button onClick={resetTimer}>Reset</button>
                            </div>
                        </div>
                        
                        <div className="container">
                            <h3>Dynamic Red Buttons</h3>
                            <div className="button-generator">
                                <input
                                    type="number"
                                    value={buttonCount}
                                    onChange={(e) => setButtonCount(parseInt(e.target.value) || 1)}
                                    min="1"
                                    placeholder="Enter number of buttons"
                                />
                                <button onClick={generateButtons}>Generate Buttons</button>
                            </div>
                            <div className="color-buttons">
                                {colorButtons.map(button => (
                                    <button
                                        key={button.id}
                                        className={`color-btn ${button.isRed ? 'red' : ''}`}
                                        onClick={() => handleColorButtonClick(button.id)}
                                    >
                                        {button.count}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </main>
                </div>
            );
        };

        // Main App Component
        const App = () => {
            const [currentPage, setCurrentPage] = useState('landing');
            const { isAuthenticated } = useAuth();

            useEffect(() => {
                const hash = window.location.hash.slice(1);
                if (hash === 'timer' && isAuthenticated) {
                    setCurrentPage('timer');
                } else {
                    setCurrentPage('landing');
                }
            }, [isAuthenticated]);

            useEffect(() => {
                const handleHashChange = () => {
                    const hash = window.location.hash.slice(1);
                    if (hash === 'timer' && isAuthenticated) {
                        setCurrentPage('timer');
                    } else {
                        setCurrentPage('landing');
                    }
                };

                window.addEventListener('hashchange', handleHashChange);
                return () => window.removeEventListener('hashchange', handleHashChange);
            }, [isAuthenticated]);

            if (currentPage === 'timer' && !isAuthenticated) {
                setCurrentPage('landing');
                return null;
            }

            return (
                <div>
                    {currentPage === 'landing' && <LandingPage />}
                    {currentPage === 'timer' && <TimerPage />}
                </div>
            );
        };

        // Render the app
        ReactDOM.render(
            <AuthProvider>
                <App />
            </AuthProvider>,
            document.getElementById('root')
        );
    </script>
</body>
</html>
